{% extends 'base_layout.html' %}

{% block content %}
<h1>Login</h1>
<!-- The form object that was imported in views.py does not include form tags so these must be added manually-->
<!-- Action specifies which url to send data to once submit is pressed. Post specifies that data will be sent rather than received -->
<!-- accounts:login says to look for the view with name 'login' in the application folder 'accounts'-->
<form class="site-form" action= "{% url 'accounts:login' %}" method="post">
<!-- csrf data is a token sent with data to ensure that it is coming from within the application -->
  {% csrf_token %}
  <!-- All form fields from djangos authentication system will be included -->
  {{ form }}

  <!-- next=... is appended to a url after redirect. This can be used to return users to a page that required a login redirect after login -->
  {% if request.GET.next %}
    <input type="hidden" name="next" value="{{request.GET.next}}">
  {% endif %}
  <input type="submit" name="" value="Login">
</form>
{% endblock %}
